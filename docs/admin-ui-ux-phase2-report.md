# 관리자 UI/UX 2차 패치 결과 및 3차 예정 보고서

작성일: 2026-02-13  
대상 범위: `src/features/admin/*`, `src/routes/admin.tsx`, `src/main.tsx`, `docs/*`

## 1. 2차 패치 목표
- 관리자 주요 리스트의 정보 밀집도 상향
- 화면 간 상단 툴바 구조 통일(제목/설명/카운트/1차 액션)
- 로그 필터 흐름 개선(입력 즉시 반영 + 기간 역전 방지)

## 2. 2차 패치 적용 내역

### 2.1 공통 섹션 헤더 도입
- `AdminSectionHeader` 신규 도입으로 제목, 보조 설명, 카운트 배지, 우측 액션을 공통화
- 관리자 화면의 헤더 시각/동작 패턴 통일

적용 파일:
- `src/features/admin/components/admin-section-header.tsx` (신규)
- `src/features/admin/notice-manager.tsx`
- `src/features/admin/dday-manager.tsx`
- `src/features/admin/kirinuki-channel-manager.tsx`
- `src/features/admin/auto-update-settings.tsx`
- `src/features/admin/auto-update-logs.tsx`

### 2.2 공지/DDay/키리누키를 테이블 중심 레이아웃으로 전환
- 카드 리스트를 컴팩트 테이블로 전환해 동일 높이에서 더 많은 레코드 확인 가능
- 행 단위 액션(수정/삭제)을 우측 작업 컬럼에 고정해 반복 작업 동선 단축
- 컬럼 기준 비교(상태/유형/기간/링크) 속도 개선

적용 파일:
- `src/features/admin/notice-manager.tsx`
- `src/features/admin/dday-manager.tsx`
- `src/features/admin/kirinuki-channel-manager.tsx`

### 2.3 로그 필터를 자동 반영형으로 개선
- 버튼 실행형 검색을 `300ms 디바운스 자동 조회`로 변경
- `시작일 > 종료일`일 때 즉시 오류 문구 표시 및 조회 차단
- 수동 새로고침 동작에도 동일 유효성 검증 적용

적용 파일:
- `src/features/admin/auto-update-logs.tsx`

### 2.4 설정 화면 헤더 일관성 강화
- 자동 업데이트 설정 화면 상단도 공통 헤더로 통일
- 대기 건수 카운트와 새로고침 액션을 상단에서 즉시 인지 가능

적용 파일:
- `src/features/admin/auto-update-settings.tsx`

## 3. 체감 개선 요약
- 카드 기반 대비 행 밀집도 상승으로 운영자가 한 화면에서 더 많은 항목을 비교 가능
- 로그 검색 흐름에서 클릭 의존도가 낮아져 반복 조회 피로도 감소
- 관리자 화면 간 시각 구조 통일로 학습 비용 감소

## 4. 2차 패치 검증
- `pnpm exec eslint` (변경 파일 대상) 통과
- `pnpm exec tsc -b --pretty false` 통과

## 5. 3차 패치 예정(비판적 분석 기반)

### 5.1 현재 잔여 문제
1. 승인 대기 테이블은 `개별 처리` 또는 `전체 처리`만 가능해 실제 운영 시 불필요한 전체 액션 리스크가 큼
2. 로그 목록은 최대 200건 단일 조회라 누적 데이터가 커질수록 탐색성이 급격히 저하됨
3. 다수 테이블에서 정렬/우선순위 전환이 어려워 날짜/상태 중심 triage 속도가 제한됨
4. 폼 입력은 보조 자동화가 부족해 URL/ID 입력 실수 가능성이 높음
5. UX 회귀 방지 자동화 테스트가 부족해 관리자 화면 변경 시 품질 변동 리스크가 있음

### 5.2 3차 패치 우선순위

#### P0 (운영 리스크 즉시 완화)
1. 승인 대기 선택 체크박스 + 부분 일괄 승인/거부
2. 로그 목록 페이지네이션(또는 커서 기반 더보기) 도입
3. 공통 테이블 정렬(날짜/상태/유형) 지원

수용 기준:
- 선택 1건 이상일 때만 부분 일괄 액션 활성화
- 로그 탐색 시 200건 초과 데이터 접근 가능
- 정렬 상태가 UI에 명확히 표시되고 재조회 후에도 유지

#### P1 (입력 정확도/속도 개선)
1. 키리누키 폼 URL 입력 시 `youtube_channel_id` 자동 추출
2. 공지 폼 URL 형식 검증 및 기간 프리셋(오늘/7일/30일) 제공
3. D-Day 색상 프리셋 칩 + 고급 옵션(멀티 색상) 접기 제공

수용 기준:
- 자동 추출 실패 시 명확한 오류/수정 가이드 노출
- 잘못된 URL 저장 차단
- 수동 입력 대비 평균 입력 단계 감소

#### P2 (품질/관측 가능성)
1. 관리자 핵심 플로우 테스트 추가(삭제 확인, 저장 실패, 필터 유효성)
2. 토스트 문구/상태 매핑 표준화
3. 운영 로그 필드 확장(처리 시간, 실패 원인 코드)

수용 기준:
- 핵심 경로 회귀 테스트 자동화
- 실패 유형 구분 가능 수준의 운영 로그 확보

### 5.3 일정 제안
- 3차 P0: 2026-02-16 ~ 2026-02-20
- 3차 P1: 2026-02-23 ~ 2026-02-27
- 3차 P2: 2026-03-02 ~ 2026-03-06

## 6. 리스크 및 대응
- 모바일 테이블은 여전히 수평 스크롤 의존도가 높음
- 3차에서 `중요 컬럼 우선 노출 + 상세 보기 분리`를 적용해 모바일 작업성을 보완 예정
